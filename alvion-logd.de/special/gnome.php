
<?php// by MySqlrequire_once 'common.php';addcommentary();$hr = 'Die Böse Hexe'; // name dieser seite (page_header)$tc = '`7'; //textfarbepage_header($hr);switch ($_GET['op'])    {      case '':          $session['user']['specialinc'] = 'gnome.php';          output(''.$tc.'Müde vom Kämpfen machst du dich auf den Heimweg. Doch gerade, als du `n                     den Weg nach Hause angetreten hast, siehst du ein etwas größeres Loch in der `n                     Hecke gegenüber. Still denkst du vor dich hin: „`iSoll ich diesen Weg wagen`i ?" `n                     Doch ehe du dich versiehst, bist du schon durch das Loch hindurch auf die andere `n                     Seite gegangen. Nun stehst du auf einer etwas kleineren Lichtung. Fahles Sonnenlicht `n                     erhellt einige Teile der Lichtung. Doch um wirklich etwas erkennen zu können, ist `n                     das Licht zu fahl.`0');          addnav('Aktionen');          addnav('Erkunde die Lichtung','forest.php?op=kunde');          addnav('Gehe zurück','forest.php?op=bye');      break;      case 'kunde':          $session['user']['specialinc'] = 'gnome.php';          output(''.$tc.'Noch etwas ungewiss, was du auf dieser kleinen Lichtung finden wirst, machst du `n                     dich an die Arbeit, diese zu erkunden. Du wanderst über Stock und Stein,                     bis du unerwartet ein Loch im Boden findest. `n                     Noch etwas baff von dieser Entdeckung suchst du dir einen kleinen Stein und `n                     lässt ihn in das Loch plumpsen. Jetzt fängst du an zu zählen. `n                     `i 1.....2.....3....4.....5....6.....7.....8.....9 `i und hörst dann ein lautes `i Klong `i! `n                     Du vermutest, nach deiner Sekundenzahl, dass dieses Loch ca. 50 Meter tief ist. `n                     Jetzt lächelst du über das ganze Gesicht und rufst : „`iDas ist leicht, da unten bin ich schnell`i." `n                     Du schnallst deinen Rucksack vom Rücken ab und holst ein langes und dickes Seil heraus. `n                     Und schon hängt das Seil in dem Loch und du krabbelst daran hinab.`n                     Du brauchst etwa 5 Minuten, bis du unten angekommen bist, aber wie du siehst, hat sich `n                     die Mühe gelohnt. Denn hier unten kannst du durch das Licht der Fackeln...... `n                     `b FACKELN?????? `b `n                     „`i Wie kommen die hierher? `i " fragst du dich. `n                     Nun hörst du hinter dir ein großes Gemurmel. Langsam, sehr langsam ziehst du deine Waffe `n                     aus der Scheide und drehst dich ruckartig um. Jetzt siehst du in viele kleine Gesichter. `n                     Du fängst an zu lachen und rufst dann : „`i Es sind doch nur die Erdgnome `i" `n                     Schon kommt einer dieser Erdgnome auf dich zu, es sieht aus, als ob es der König sei, `n                     denn er trägt eine Krone. „ `i Hallo Krieger `i ",sagt er," `i bist du gekommen, um unser Dorf zu retten? `i"`n`n                     <a href="forest.php?op=ask">Um euch zu helfen? Worum geht es denn?</a>`n                     <a href="forest.php">Nein ich helfe euch nicht! Tschüss!</a>',true);          addnav('Aktionen');          addnav('Fragen','forest.php?op=ask');          addnav('Einfach gehen','forest.php?op=bye');          addnav('','forest.php?op=bye');      break;;      case 'ask':          $session['user']['specialinc'] = 'gnome.php';          output(''.$tc.'„`i Worum geht es denn? Wobei soll ich euch helfen? `i", fragst du den Gnomenkönig. `n                  Er antwortet : „`i Eine grausame Elfenhexe herrscht seit ein paar Jahren über unser Dorf, `n                  mich vertrieb sie von meinem Thron, doch meine Untertanen respektieren mich trotzdem `n                  als ihren König. Und dies, mein Krieger, ist eine große Ehre für mich. Deshalb suche ich seit `n                  einem Jahr nach einem Krieger, der meine Untertanen und mich vor der großen Bedrohung `n                  der Elfenhexe rettet. `i" `n                  „`iMhmmmmmmm!`i, sagst du,"`i Wie kann ich Euch denn helfen?" `n                  Der König sagt : „`iFinde und töte die Hexe, sobald dies getan ist, werden wir dich mit `n                  ungeheuren Reichtümern belohnen!`i"');          addnav('Aktionen');          addnav('Suchen und töten','forest.php?op=search');          addnav('Verdufte','forest.php?op=bye');      break;      case 'search':          $session['user']['specialinc'] = 'gnome.php';          output(''.$tc.'Du hast dich entschlossen, die Hexe zu suchen und zu finden. Doch sollte dir dies nicht gelingen, `n                  hat dir der König, gesagt wird er dich TÖTEN. `n                  Du begibst dich auf die andere Seite des Raumes, wo ein weiteres Loch, ist durch das du steigen musst,                  so hat es dir der König gesagt. `n                  Abermals lässt du das Seil durch das Loch und hangelst dich herunter. Nach etwa 2 Minuten kommst `n                  du unten an und findest dich in einem kleinen Raum wieder. `n                  Auf dem Boden liegen viele kleine Tierknochen. Nun wird es dir klar: Die Hexe lebt hier unten. `n                  `bDU WEISST, DAS DU DICH IN IHREN RÄUMEN BEFINDEST.`b`n                  Jetzt heisst es warten, bis die heimtückische Hexe wieder her kommt. `n                  Stunden vergehen, bis du Schritte auf dem Gang über diesem Raum hörst. Dann ein Räuspern. `n                  Laut ein Fluch, und schon steht die Hexe in diesem Raum. Du schaust sie aus großen Augen an, `n                  sie schaut zurück. Sekunden vergehen, bis du auf sie zu stürmst und in deiner rechten Hand deine Waffe hältst.');          addnav('Aktionen');          addnav('TÖTE SIE','forest.php?op=toeten');      break;    case 'toeten':        $points = 0;        while(list($key,$val)=each($session[user][dragonpoints])){            if ($val=="at" || $val == "de") $points++;        }        $session['user']['specialinc'] = 'gnome.php';        $badguy = array(        "creaturename"=>'Böse Hexe',        "creaturelevel"=>20,        "creatureweapon"=>'Hexenmagie',        "creatureattack"=>40,        "creaturedefense"=>30,        "creaturehealth"=>200,        "diddamage"=>0);        if ($beta)            $points = round($points*1.5,0);        else            $points = round($points*.75,0);        $atkflux = e_rand($points/3, $points);        $defflux = e_rand($points/3,$points-$atkflux);        $hpflux = ($points - ($atkflux+$defflux)) * 5;        $badguy['creatureattack']+=$atkflux;        $badguy['creaturedefense']+=$defflux;        $badguy['creaturehealth']+=$hpflux;        $session['user']['badguy']=createstring($badguy);        $battle=true;        $_GET['op']=="fight";        break;      case 'fight':          $session['user']['specialinc'] = 'gnome.php';          $battle=true;      break;      case 'run':          output('Du kannst jetzt nicht flüchten, denn sonst tötet dich der Gnomenkönig.');          $session['user']['specialinc'] = 'gnome.php';          $battle=true;      break;      case 'bye':          output('Weiter um in den Wald zu kommen');          addnav('Der Wald','forest.php');          $session['user']['specialinc']='';          $session[user][specialmisc] = 0;      break;   }if ($battle) {    include('battle.php');     $session['user']['specialinc'] = 'gnome.php';        $hp = $session['user']['specialmisc'];        if ($victory){             $badguy=array();               $session['user']['badguy']='';                output(''.$tc.'`n`nMit einem letzten vernichtenden Schlag triffst du die Hexe und sie geht vor dir in die Knie. `n                        Mit ihrem letzten Atemzug sagt sie dir noch: `iHinter diesem Tisch steht eine meiner stärksten `n                        Waffen, ich will das du sie nimmst, damit sie noch in Gebrauch bleibt.`i `n                        Kurze Zeit später stirbt sie.');                addnav('Gehe zum König','forest.php?op=king');                $how=40-$session['user']['weapondmg'];                $session['user']['weapon']='Zeus weiße Blitze';                $session['user']['weaponvalue']=5000;                $session['user']['weapondmg']=40;                $session['user']['attack']+=$how;                output('`n`nDu bist hinter den Tisch gegangen und hast dir die Waffe genommen.');                addnews(''.$session['user']['name'].'`^ wird von den Gnomen als '.($session['user']['sex']?"strahlende Heldin":"strahlender Held").' gefeiert.');      } elseif ($defeat){          $badguy=array();            $session['user']['badguy']="";        addnews('`7Eine schrumpelige, alte Hexe freut sich über `^'.$session['user']['gold'].'`7 Goldstücke, die sie '.$session['user']['name'].'`7 abnehmen konnte.');               $session['user']['specialinc']='';        $session['user']['specialmisc'] = 0;          switch(e_rand(1,3)) {              case '1':                    output(''.$tc.'Du konntest die Hexe nicht töten, dafür hat sie dich getötet. Du verlierst all dein Gold. `nDu bist `4tot`0. Du kannst morgen weiter kämpfen.');                $session['user']['alive']=0;                $session['user']['hitpoints']=0;                $session['user']['gold']=0;                addnav('Zu den News','news.php');                break;            case '2':            case '3':                    output(''.$tc.'Du konntest die Hexe nicht töten. Du verlierst all dein Gold und fast alle Lebenspunkte.');                $session['user']['hitpoints']=1;                $session['user']['gold']=0;                addnav('Zurück in den Wald','forest.php');                break;        }    } else {        fightnav(true,true);    }}if ($_GET[op]=='king'){    output('Wie ich sehe, hast du die Hexe getötet!`n            Wie versprochen, bekommst du deine Belohnung.`n            `n`4Du erhältst 10 Edelsteine und 5000 Goldstücke');    $session['user']['gems']+=10;    $session['user']['gold']+=5000;    $session['user']['specialinc']='';    $session['user']['specialmisc'] = 0;    addnav('In den Wald','forest.php');}page_footer();?>

